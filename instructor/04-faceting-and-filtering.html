<!DOCTYPE html>
<!-- START: inst/pkgdown/templates/layout.html --><!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><title>Library Carpentry: OpenRefine: Faceting and filtering</title><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="stylesheet" type="text/css" href="../assets/styles.css"><script src="../assets/scripts.js" type="text/javascript"></script><!-- mathjax --><script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      config: ["MMLorHTML.js"],
      jax: ["input/TeX","input/MathML","output/HTML-CSS","output/NativeMML", "output/PreviewHTML"],
      extensions: ["tex2jax.js","mml2jax.js","MathMenu.js","MathZoom.js", "fast-preview.js", "AssistiveMML.js", "a11y/accessibility-menu.js"],
      TeX: {
        extensions: ["AMSmath.js","AMSsymbols.js","noErrors.js","noUndefined.js"]
      },
      tex2jax: {
        inlineMath: [['\\(', '\\)']],
        displayMath: [ ['$$','$$'], ['\\[', '\\]'] ],
        processEscapes: true
      }
    });
    </script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><!-- Responsive Favicon for The Carpentries --><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="manifest" href="../site.webmanifest"><link rel="mask-icon" href="../safari-pinned-tab.svg" color="#5bbad5"><meta name="msapplication-TileColor" content="#da532c"><meta name="theme-color" content="#ffffff"></head><body>
    <header id="top" class="navbar navbar-expand-md navbar-light bg-white top-nav library"><a class="visually-hidden-focusable skip-link" href="#main-content">Skip to main content</a>
  <div class="container-fluid top-nav-container">
    <div class="col-md-6">
      <div class="large-logo">
        <img alt="Library Carpentry" src="../assets/images/library-logo.svg"></div>
    </div>
    <div class="selector-container">
      
      
      <div class="dropdown">
        <button class="btn btn-secondary dropdown-toggle bordered-button" type="button" id="dropdownMenu1" data-bs-toggle="dropdown" aria-expanded="false">
          <i aria-hidden="true" class="icon" data-feather="eye"></i> Instructor View <i data-feather="chevron-down"></i>
        </button>
        <ul class="dropdown-menu" aria-labelledby="dropdownMenu1"><li><button class="dropdown-item" type="button" onclick="window.location.href='../04-faceting-and-filtering.html';">Learner View</button></li>
        </ul></div>
    </div>
  </div>
  <hr></header><nav class="navbar navbar-expand-xl navbar-light bg-white bottom-nav library" aria-label="Main Navigation"><div class="container-fluid nav-container">
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle Navigation">
      <span class="navbar-toggler-icon"></span>
      <span class="menu-title">Menu</span>
    </button>
    <div class="nav-logo">
      <img class="small-logo" alt="Library Carpentry" src="../assets/images/library-logo-sm.svg"></div>
    <div class="lesson-title-md">
      Library Carpentry: OpenRefine
    </div>
    <div class="search-icon-sm">
      <!-- TODO: do not show until we have search
        <i role="img" aria-label="search button" data-feather="search"></i>
      -->
    </div>
    <div class="desktop-nav">
      <ul class="navbar-nav me-auto mb-2 mb-lg-0"><li class="nav-item">
          <span class="lesson-title">
            Library Carpentry: OpenRefine
          </span>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="../instructor/key-points.html">Key Points</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="../instructor/instructor-notes.html">Instructor Notes</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="../instructor/images.html">Extract All Images</a>
        </li>
        <li class="nav-item dropdown">
          <button class="nav-link dropdown-toggle" id="navbarDropdown" data-bs-toggle="dropdown" aria-expanded="false">
            More <i data-feather="chevron-down"></i>
          </button>
          <ul class="dropdown-menu" aria-labelledby="navbarDropdown"><hr><li><a class="dropdown-item" href="discuss.html">Discussion</a></li><li><a class="dropdown-item" href="reference.html">Reference</a></li>
          </ul></li>
      </ul></div>
    <form class="d-flex col-md-2 search-form">
      <fieldset disabled><input class="form-control me-2 searchbox" type="search" placeholder="Search" aria-label="Search"><button class="btn btn-outline-success tablet-search-button" type="submit">
          <i class="search-icon" data-feather="search" role="img" aria-label="search button"></i>
        </button>
      </fieldset></form>
  </div><!--/div.container-fluid -->
</nav><div class="col-md-12 mobile-title">
  Library Carpentry: OpenRefine
</div>

<aside class="col-md-12 lesson-progress"><div style="width: 22%" class="percentage">
    22%
  </div>
  <div class="progress library">
    <div class="progress-bar library" role="progressbar" style="width: 22%" aria-valuenow="22" aria-label="Lesson Progress" aria-valuemin="0" aria-valuemax="100">
    </div>
  </div>
</aside><div class="container">
      <div class="row">
        <!-- START: inst/pkgdown/templates/navbar.html -->
<div id="sidebar-col" class="col-lg-4">
  <div id="sidebar" class="sidebar">
      <nav aria-labelledby="flush-headingEleven"><button role="button" aria-label="close menu" alt="close menu" aria-expanded="true" aria-controls="sidebar" class="collapse-toggle" data-collapse="Collapse " data-episodes="Episodes ">
          <i class="search-icon" data-feather="x" role="img"></i>
        </button>
        <div class="sidebar-inner">
          <div class="row mobile-row">
            <div class="col">
              <div class="sidenav-view-selector">
                <div class="accordion accordion-flush" id="accordionFlush9">
                  <div class="accordion-item">
                    <h2 class="accordion-header" id="flush-headingNine">
                      <button class="accordion-button collapsed" id="instructor" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseNine" aria-expanded="false" aria-controls="flush-collapseNine">
                        <i id="eye" aria-hidden="true" class="icon" data-feather="eye"></i> Instructor View
                      </button>
                    </h2>
                    <div id="flush-collapseNine" class="accordion-collapse collapse" aria-labelledby="flush-headingNine" data-bs-parent="#accordionFlush2">
                      <div class="accordion-body">
                        <a href="../04-faceting-and-filtering.html">Learner View</a>
                      </div>
                    </div>
                  </div><!--/div.accordion-item-->
                </div><!--/div.accordion-flush-->
              </div><!--div.sidenav-view-selector -->
            </div><!--/div.col -->
      
            <hr></div><!--/div.mobile-row -->

          <div class="accordion accordion-flush" id="accordionFlush11">
            <div class="accordion-item">

              <button id="chapters" class="accordion-button show" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseEleven" aria-expanded="false" aria-controls="flush-collapseEleven">
                <h2 class="accordion-header chapters" id="flush-headingEleven">
                  EPISODES
                </h2>
              </button>
              <div id="flush-collapseEleven" class="accordion-collapse show collapse" aria-labelledby="flush-headingEleven" data-bs-parent="#accordionFlush11">

                <div class="accordion-body">
                  <div class="accordion accordion-flush" id="accordionFlush1">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading1">
        <a href="index.html">Summary and Schedule</a>
    </div><!--/div.accordion-header-->
        
  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush2">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading2">
        <a href="01-introduction.html">1. Introduction to OpenRefine</a>
    </div><!--/div.accordion-header-->
        
  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush3">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading3">
        <a href="02-importing-data.html">2. Importing data into OpenRefine</a>
    </div><!--/div.accordion-header-->
        
  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush4">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading4">
        <a href="03-working-with-data.html">3. Layout of OpenRefine, Rows vs Records</a>
    </div><!--/div.accordion-header-->
        
  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlushcurrent">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-headingcurrent">
      <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapsecurrent" aria-expanded="true" aria-controls="flush-collapsecurrent">
        <span class="visually-hidden">Current Chapter</span>
        <span class="current-chapter">
        4. Faceting and filtering
        </span>
      </button>
    </div><!--/div.accordion-header-->
        
    <div id="flush-collapsecurrent" class="accordion-collapse collapse show" aria-labelledby="flush-headingcurrent" data-bs-parent="#accordionFlushcurrent">
      <div class="accordion-body">
        <ul><li><a href="#facets">Facets</a></li>
<li><a href="#filters">Filters</a></li>
<li><a href="#working-with-filtered-data">Working with filtered data</a></li>
<li><a href="#other-types-of-facet">Other types of Facet</a></li>
<li><a href="#amending-data-through-facets">Amending data through facets</a></li>
        </ul></div><!--/div.accordion-body-->
    </div><!--/div.accordion-collapse-->
        
  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush6">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading6">
        <a href="05-clustering.html">5. Clustering</a>
    </div><!--/div.accordion-header-->
        
  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush7">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading7">
        <a href="06-working-with-columns.html">6. Working with columns and sorting</a>
    </div><!--/div.accordion-header-->
        
  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush8">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading8">
        <a href="07-introduction-to-transformations.html">7. Introduction to Transformations</a>
    </div><!--/div.accordion-header-->
        
  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush9">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading9">
        <a href="08-writing-transformations.html">8. Writing Transformations</a>
    </div><!--/div.accordion-header-->
        
  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush10">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading10">
        <a href="09-undo-and-redo.html">9. Transformations - Undo and Redo</a>
    </div><!--/div.accordion-header-->
        
  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush11">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading11">
        <a href="10-data-transformation.html">10. Transforming Strings, Numbers, Dates and Booleans</a>
    </div><!--/div.accordion-header-->
        
  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush12">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading12">
        <a href="11-using-arrays-transformations.html">11. Transformations - Handling Arrays</a>
    </div><!--/div.accordion-header-->
        
  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush13">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading13">
        <a href="12-export-transformation.html">12. Exporting data</a>
    </div><!--/div.accordion-header-->
        
  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush14">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading14">
        <a href="13-looking-up-data.html">13. Looking Up Data</a>
    </div><!--/div.accordion-header-->
        
  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

                </div>
              </div>
            </div>

            <hr class="half-width"><div class="accordion accordion-flush resources" id="accordionFlush12">
              <div class="accordion-item">
                <h2 class="accordion-header" id="flush-headingTwelve">
                  <button class="accordion-button collapsed" id="resources" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseTwelve" aria-expanded="false" aria-controls="flush-collapseTwelve">
                    RESOURCES
                  </button>
                </h2>
                <div id="flush-collapseTwelve" class="accordion-collapse collapse" aria-labelledby="flush-headingTwelve" data-bs-parent="#accordionFlush12">
                  <div class="accordion-body">
                    <ul><li>
                        <a href="../instructor/key-points.html">Key Points</a>
                      </li>
                      <li>
                        <a href="../instructor/instructor-notes.html">Instructor Notes</a>
                      </li>
                      <li>
                        <a href="../instructor/images.html">Extract All Images</a>
                      </li>
                      <hr><li><a class="dropdown-item" href="discuss.html">Discussion</a></li><li><a class="dropdown-item" href="reference.html">Reference</a></li>
                    </ul></div>
                </div>
              </div>
            </div>
            <hr class="half-width resources"><a href="../instructor/aio.html">See all in one page</a>
            

            <hr class="d-none d-sm-block d-md-none"><div class="d-grid gap-1">
            
            </div>
          </div><!-- /div.accordion -->
        </div><!-- /div.sidebar-inner -->
      </nav></div><!-- /div.sidebar -->
  </div><!-- /div.sidebar-col -->
<!-- END:   inst/pkgdown/templates/navbar.html-->

        <!-- START: inst/pkgdown/templates/content-instructor.html -->
  <div class="col-xl-8 col-lg-12 primary-content">
    <nav class="lesson-content mx-md-4" aria-label="Previous and Next Chapter"><!-- content for small screens --><div class="d-block d-sm-block d-md-none">
        <a class="chapter-link" href="../instructor/03-working-with-data.html"><i aria-hidden="true" class="small-arrow" data-feather="arrow-left"></i>Previous</a>
        <a class="chapter-link float-end" href="../instructor/05-clustering.html">Next<i aria-hidden="true" class="small-arrow" data-feather="arrow-right"></i></a>
      </div>
      <!-- content for large screens -->
      <div class="d-none d-sm-none d-md-block">
        <a class="chapter-link" href="../instructor/03-working-with-data.html" rel="prev">
          <i aria-hidden="true" class="small-arrow" data-feather="arrow-left"></i>
          Previous: Layout of
        </a>
        <a class="chapter-link float-end" href="../instructor/05-clustering.html" rel="next">
          Next: Clustering... 
          <i aria-hidden="true" class="small-arrow" data-feather="arrow-right"></i>
        </a>
      </div>
      <hr></nav><main id="main-content" class="main-content"><div class="container lesson-content">
        <h1>Faceting and filtering</h1>
        <p>Last updated on 2023-11-28 |
        
        <a href="https://github.com/librarycarpentry/lc-open-refine/edit/main/episodes/04-faceting-and-filtering.md" class="external-link">Edit this page <i aria-hidden="true" data-feather="edit"></i></a></p>
        
        
        
        <p>Estimated time: <i aria-hidden="true" data-feather="clock"></i> 20 minutes</p>
        
        <div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right" data-expand="Expand All Solutions " data-collapse="Collapse All Solutions "> Expand All Solutions <i aria-hidden="true" data-feather="plus"></i></button>
        </div>

        

<div class="overview card">
<h2 class="card-header">Overview</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Questions</h3>
<ul><li>What is a facet in OpenRefine?</li>
<li>What is a filter in OpenRefine?</li>
<li>How can I use filters and facets to explore data in OpenRefine?</li>
<li>How can I correct common data issues in my data with
OpenRefine?</li>
</ul></div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objectives</h3>
<ul><li>Explain what Facets and Filters are</li>
<li>Answer questions about the content of a data set using Facets</li>
<li>Use facets and filters to work with a subset of data</li>
<li>Correct data problems through a facet</li>
</ul></div>
</div>
</div>
</div>
</div>
<section id="facets"><h2 class="section-heading">Facets<a class="anchor" aria-label="anchor" href="#facets"></a>
</h2>
<hr class="half-width"><p>Facets are one of the most useful features of OpenRefine and can help
in both getting an overview of the data and to improve the consistency
of the data.</p>
<p>A ‘Facet’ groups all the values that appear in a column, and then
allows you to filter the data by these values and edit values across
many records at the same time.</p>
<p>One of the most commonly used facets is called a ‘Text facet’. This
groups all the text values in a column and lists each value with the
number of records it appears in. The facet information always appears in
the left hand panel in the OpenRefine interface.</p>
<p>To create a Text Facet for a column, click on the drop down menu at
the top of the publisher column and choose
<code>Facet -&gt; Text Facet</code>. The facet will then appear in the
left hand panel.</p>
<p>The facet consists of a list of values used in the data. You can
filter the data displayed by clicking on one of these headings.</p>
<p>You can include multiple values from the facet in a filter at one
time by using the <code>Include</code> option which appears when you put
your mouse over a value in the Facet.</p>
<p>You can also <code>invert</code> the filter to show all records which
do not match your selected values. This option appears at the top of the
Facet panel when you select a value from the facet to apply as a
filter.</p>
<div id="lets-create-a-text-facet" class="callout checklist">
<div class="callout-square">
<i class="callout-icon" data-feather="check-square"></i>
</div>
<div id="lets-create-a-text-facet" class="callout-inner">
<h3 class="callout-title">Let’s create a text facet<a class="anchor" aria-label="anchor" href="#lets-create-a-text-facet"></a>
</h3>
<div class="callout-content">
<ol style="list-style-type: decimal"><li>Click on the drop down menu at the top of the publisher column and
choose <code>Facet &gt; Text Facet</code>. The facet will then appear in
the left hand panel</li>
<li>To select a single value, click the text of the relevant line in the
facet</li>
<li>To select multiple values click the <code>Include</code> option on
the appropriate line in the facet (which only appears when you mouse
over the line)</li>
<li>You can ‘invert’ your selections to <code>exclude</code>
</li>
<li>Include a value and then look at top to invert inclusion.</li>
</ol></div>
</div>
</div>
<div id="which-licences-are-used-for-articles-in-this-file" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="which-licences-are-used-for-articles-in-this-file" class="callout-inner">
<h3 class="callout-title">Which licences are used for articles in this
file?<a class="anchor" aria-label="anchor" href="#which-licences-are-used-for-articles-in-this-file"></a>
</h3>
<div class="callout-content">
<p>Use a <code>text facet</code> for the <code>licence</code> column and
answer these questions:</p>
<ol style="list-style-type: decimal"><li>What is the most common Licence in the file?</li>
<li>How many articles in the file don’t have a licence assigned?</li>
</ol></div>
</div>
</div>
<div id="accordionSolution1" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution1" aria-expanded="false" aria-controls="collapseSolution1">
  <h4 class="accordion-header" id="headingSolution1">Show me the solution</h4>
</button>
<div id="collapseSolution1" class="accordion-collapse collapse" data-bs-parent="#accordionSolution1" aria-labelledby="headingSolution1">
<div class="accordion-body">
<ol style="list-style-type: decimal"><li>Create a facet for the ‘Licence’ column</li>
<li>Sort values by <code>count</code>
</li>
<li>What is the most common Licence in the file? Answer:
<code>CC BY</code>
</li>
<li>How many articles in the file don’t have a licence assigned? Answer:
<strong>6</strong>
</li>
</ol></div>
</div>
</div>
</div>
</section><section id="filters"><h2 class="section-heading">Filters<a class="anchor" aria-label="anchor" href="#filters"></a>
</h2>
<hr class="half-width"><p>As well as using Facets to filter the data displayed in OpenRefine
you can also apply ‘Text Filters’ which looks for a particular piece of
text appearing in a column based on a unique text string, like a ‘find’
feature. Text filters are applied by clicking the drop down menu at the
top of the column you want to apply the filter to and choosing ‘Text
filter’.</p>
<p>As with Facets, the Filter options appear in the left hand panel in
OpenRefine. As you type the text you want to use in the Filter in the
Filter’s text box, OpenRefine works to display only rows that contain
that text in the relevant column.</p>
<p>You can also use <a href="https://librarycarpentry.org/lc-data-intro/01-regular-expressions.html" class="external-link">regular
expressions</a> in the filter.</p>
</section><section id="working-with-filtered-data"><h2 class="section-heading">Working with filtered data<a class="anchor" aria-label="anchor" href="#working-with-filtered-data"></a>
</h2>
<hr class="half-width"><p>It is very important to note that when you have filtered the data
displayed in OpenRefine, any operations you carry out will apply only to
the rows that match the filter - that is the data currently being
displayed. To confirm you are working with the data you intended to
select, check the number of matching records displayed above the data
table.</p>
</section><section id="other-types-of-facet"><h2 class="section-heading">Other types of Facet<a class="anchor" aria-label="anchor" href="#other-types-of-facet"></a>
</h2>
<hr class="half-width"><p>As well as ‘Text facets’ OpenRefine also supports a range of other
types of facet. These include:</p>
<ul><li>Numeric facets</li>
<li>Timeline facets (for dates)</li>
<li>Scatterplot facets</li>
<li>Custom facets</li>
</ul><p><strong>Numeric and Timeline facets</strong> display graphs instead
of lists of values. The graph includes ‘drag and drop’ controls you can
use to set a start and end range to filter the data displayed.</p>
<p><strong>Scatterplot facets</strong> are less commonly used. For
further information on these see the tutorial at <a href="https://web.archive.org/web/20190105063215/http://enipedia.tudelft.nl/wiki/OpenRefine_Tutorial#Exploring_the_data_with_scatter_plots" class="external-link">https://web.archive.org/web/20190105063215/http://enipedia.tudelft.nl/wiki/OpenRefine_Tutorial#Exploring_the_data_with_scatter_plots</a>.</p>
<p><strong>Custom facets</strong> are a range of different types of
facets. Some of the default custom facets are:</p>
<ul><li>Word facet - this breaks down text into words and counts the number
of records each word appears in</li>
<li>Duplicates facet - this results in a binary facet of ‘true’ or
‘false’. Rows appear in the ‘true’ facet if the value in the selected
column is an exact match for a value in the same column in another
row</li>
<li>Text length facet - creates a numeric facet based on the length
(number of characters) of the text in each row for the selected column.
This can be useful for spotting incorrect or unusual data in a field
where specific lengths are expected (e.g. if the values are expected to
be years, any row with a text length more than 4 for that column is
likely to be incorrect)</li>
<li>Facet by blank - a binary facet of ‘true’ or ‘false’. Rows appear in
the ‘true’ facet if they have no data present in that column. This is
useful when looking for rows missing key data.</li>
</ul><p>Facets are intended to group together common values and OpenRefine
limits the number of values allowed in a single facet to ensure the
software does not perform slowly or run out of memory. If you create a
facet where there are many unique values (for example, a facet on a
‘book title’ column in a data set that has one row per book) the facet
created will be very large and may either slow down the application, or
OpenRefine will not create the facet.</p>
<div id="find-all-publications-without-a-doi" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="find-all-publications-without-a-doi" class="callout-inner">
<h3 class="callout-title">Find all publications without a DOI<a class="anchor" aria-label="anchor" href="#find-all-publications-without-a-doi"></a>
</h3>
<div class="callout-content">
<ul><li>Use the <code>Facet by blank</code> function to find all
publications in this data set without a DOI</li>
</ul></div>
</div>
</div>
<div id="accordionSolution2" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution2" aria-expanded="false" aria-controls="collapseSolution2">
  <h4 class="accordion-header" id="headingSolution2">Show me the solution</h4>
</button>
<div id="collapseSolution2" class="accordion-collapse collapse" data-bs-parent="#accordionSolution2" aria-labelledby="headingSolution2">
<div class="accordion-body">
<ol style="list-style-type: decimal"><li>On the <code>DOI</code> column drop down and select
<code>Facets &gt; Customized facets &gt; Facet by blank</code>
</li>
<li>
<code>True</code> means that it is blank, so you can:</li>
</ol><ul><li>Select <code>include</code> on True in the facet to filter the list
of publications to only those that don’t have a DOI</li>
</ul></div>
</div>
</div>
</div>
</section><section id="amending-data-through-facets"><h2 class="section-heading">Amending data through facets<a class="anchor" aria-label="anchor" href="#amending-data-through-facets"></a>
</h2>
<hr class="half-width"><p>If you create a text facet you can edit the values in the facet to
change the value for several records at the same time. To do this,
mouse-over the value you want to edit and click the ‘edit’ option that
appears.</p>
<p>This approach is useful in relatively small facets where you might
have small variations through punctuation or typing errors etc. For
example, a column that should contain only terms from a small restricted
list such as days of the week or months of the year.</p>
<p>The list of values in the facet will update as you make edits.</p>
<div id="correct-the-language-values-via-a-facet" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="correct-the-language-values-via-a-facet" class="callout-inner">
<h3 class="callout-title">Correct the Language values via a facet<a class="anchor" aria-label="anchor" href="#correct-the-language-values-via-a-facet"></a>
</h3>
<div class="callout-content">
<ul><li>Create a <code>Text facet</code> on the <code>language</code> column
and correct the variation in the <code>EN</code> and
<code>English</code> values.</li>
</ul></div>
</div>
</div>
<div id="accordionSolution3" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution3" aria-expanded="false" aria-controls="collapseSolution3">
  <h4 class="accordion-header" id="headingSolution3">Show me the solution</h4>
</button>
<div id="collapseSolution3" class="accordion-collapse collapse" data-bs-parent="#accordionSolution3" aria-labelledby="headingSolution3">
<div class="accordion-body">
<ol style="list-style-type: decimal"><li>Create a Text facet on the Language column</li>
<li>Notice that there is both <code>EN</code> and
<code>English</code>
</li>
<li>Put the mouse over the <code>English</code> value</li>
<li>Click <code>Edit</code>
</li>
<li>Type <code>EN</code> and click <code>Apply</code>
</li>
<li>See how the Language facet updates</li>
</ol></div>
</div>
</div>
</div>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Key Points<a class="anchor" aria-label="anchor" href="#keypoints1"></a>
</h3>
<div class="callout-content">
<ul><li>You can use facets and filters to explore your data</li>
<li>You can use facets and filters work with a subset of data in
OpenRefine</li>
<li>You can correct common data issues from a Facet</li>
</ul></div>
</div>
</div>
</section></div> <!-- / div.lesson-content -->
    </main><!-- / main#main-content.main-content --><nav class="bottom-pagination mx-md-4" aria-label="Previous and Next Chapter"><div class="d-block d-sm-block d-md-none">
        <a class="chapter-link" href="../instructor/03-working-with-data.html"><i aria-hidden="true" class="small-arrow" data-feather="arrow-left"></i>Previous</a>
        <a class="chapter-link float-end" href="../instructor/05-clustering.html">Next<i aria-hidden="true" class="small-arrow" data-feather="arrow-right"></i></a>
      </div>
      <!-- content for large screens -->
      <div class="d-none d-sm-none d-md-block">
        <a class="chapter-link" href="../instructor/03-working-with-data.html" rel="prev">
          <i aria-hidden="true" class="small-arrow" data-feather="arrow-left"></i>
          Previous: Layout of
        </a>
        <a class="chapter-link float-end" href="../instructor/05-clustering.html" rel="next">
          Next: Clustering... 
          <i aria-hidden="true" class="small-arrow" data-feather="arrow-right"></i>
        </a>
      </div>
    </nav></div> <!-- / div.primary-content.col-xs-12 -->
<!-- END:   inst/pkgdown/templates/content-instructor.html-->

      </div><!--/div.row-->
      		<footer class="row footer mx-md-3"><hr><div class="col-md-6">
        <p>This lesson is subject to the <a href="CODE_OF_CONDUCT.html">Code of Conduct</a></p>
        <p>
        
        <a href="https://github.com/librarycarpentry/lc-open-refine/edit/main/episodes/04-faceting-and-filtering.md" class="external-link">Edit on GitHub</a>
        
	
        | <a href="https://github.com/librarycarpentry/lc-open-refine/blob/main/CONTRIBUTING.md" class="external-link">Contributing</a>
        | <a href="https://github.com/librarycarpentry/lc-open-refine/" class="external-link">Source</a></p>
				<p><a href="https://github.com/librarycarpentry/lc-open-refine/blob/main/CITATION" class="external-link">Cite</a> | <a href="mailto:team@carpentries.org">Contact</a> | <a href="https://carpentries.org/about/" class="external-link">About</a></p>
			</div>
			<div class="col-md-6">
        
        <p>Materials licensed under <a href="LICENSE.html">CC-BY 4.0</a> by the authors</p>
        
        <p>Template licensed under <a href="https://creativecommons.org/licenses/by-sa/4.0/" class="external-link">CC-BY 4.0</a> by <a href="https://carpentries.org/" class="external-link">The Carpentries</a></p>
        <p>Built with <a href="https://github.com/carpentries/sandpaper/tree/0.16.2" class="external-link">sandpaper (0.16.2)</a>, <a href="https://github.com/carpentries/pegboard/tree/0.7.3" class="external-link">pegboard (0.7.3)</a>, and <a href="https://github.com/carpentries/varnish/tree/1.0.1" class="external-link">varnish (1.0.1)</a></p>
			</div>
		</footer></div> <!-- / div.container -->
	<div id="to-top">
		<a href="#top">
      <i class="search-icon" data-feather="arrow-up" role="img" aria-label="Back To Top"></i><br><!-- <span class="d-none d-sm-none d-md-none d-lg-none d-xl-block">Back</span> To Top --><span class="d-none d-sm-none d-md-none d-lg-none d-xl-block">Back</span> To Top
		</a>
	</div>
  <script type="application/ld+json">
    {
  "@context": "https://schema.org",
  "@type": "TrainingMaterial",
  "@id": "https://librarycarpentry.github.io/lc-open-refine/instructor/04-faceting-and-filtering.html",
  "inLanguage": "en",
  "dct:conformsTo": "https://bioschemas.org/profiles/TrainingMaterial/1.0-RELEASE",
  "description": "A Carpentries Lesson teaching foundational data and coding skills to researchers worldwide",
  "keywords": "software, data, lesson, The Carpentries",
  "name": "Faceting and filtering",
  "creativeWorkStatus": "active",
  "url": "https://librarycarpentry.github.io/lc-open-refine/instructor/04-faceting-and-filtering.html",
  "identifier": "https://librarycarpentry.github.io/lc-open-refine/instructor/04-faceting-and-filtering.html",
  "dateCreated": "2018-04-12",
  "dateModified": "2023-11-28",
  "datePublished": "2024-01-11"
}

  </script><script>
		feather.replace();
	</script><!-- Matomo
    2022-11-07: we have gotten a notification that we have an overage for our
    tracking and I'm pretty sure this has to do with Workbench usage.
    Considering that I am not _currently_ using this tracking because I do not
    yet know how to access the data, I am turning this off for now.
  <script>
    var _paq = window._paq = window._paq || [];
    /* tracker methods like "setCustomDimension" should be called before "trackPageView" */
    _paq.push(["setDocumentTitle", document.domain + "/" + document.title]);
    _paq.push(["setDomains", ["*.preview.carpentries.org","*.datacarpentry.github.io","*.datacarpentry.org","*.librarycarpentry.github.io","*.librarycarpentry.org","*.swcarpentry.github.io", "*.carpentries.github.io"]]);
    _paq.push(["setDoNotTrack", true]);
    _paq.push(["disableCookies"]);
    _paq.push(['trackPageView']);
    _paq.push(['enableLinkTracking']);
    (function() {
          var u="https://carpentries.matomo.cloud/";
          _paq.push(['setTrackerUrl', u+'matomo.php']);
          _paq.push(['setSiteId', '1']);
          var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
          g.async=true; g.src='https://cdn.matomo.cloud/carpentries.matomo.cloud/matomo.js'; s.parentNode.insertBefore(g,s);
        })();
  </script>
  End Matomo Code --></body></html><!-- END:   inst/pkgdown/templates/layout.html-->

